init_config:

instances:
  - class: Win32_PerfFormattedData_PerfNet_Server
    metrics:
      - [BlockingRequestsRejected, cifs.req.blocks_rejected, gauge]
      - [BytesReceivedPersec, cifs.net.bytes_rcvd_per_s, gauge]
      - [BytesTotalPersec, cifs.net.bytes_total_per_s, gauge]
      - [BytesTransmittedPersec, cifs.net.bytes_sent_per_s, gauge]
      - [ContextBlocksQueuedPersec, cifs.context_blocks_queued_per_s, gauge]
      - [ErrorsAccessPermissions, cifs.err.access_perms, gauge]
      - [ErrorsGrantedAccess, cifs.err.granted_access, gauge]
      - [ErrorsLogon, cifs.err.logon, gauge]
      - [ErrorsSystem, cifs.err.sys, gauge]
      - [FileDirectorySearches, cifs.active.dir_searches, gauge]
      - [FilesOpen, cifs.active.open_files, gauge]
      - [FilesOpenedTotal, cifs.total.files_opened, gauge]
      - [LogonPersec, cifs.logon.per_s, gauge]
      - [LogonTotal, cifs.logon.total, gauge]
      - [PoolNonpagedBytes, cifs.mem.nonpaged, gauge]
      - [PoolNonpagedFailures, cifs.mem.nonpaged_failures, gauge]
      - [PoolNonpagedPeak, cifs.mem.nonpaged_peak, gauge]
      - [PoolPagedBytes, cifs.mem.paged, gauge]
      - [PoolPagedFailures, cifs.mem.paged_failures, gauge]
      - [PoolPagedPeak, cifs.mem.paged_peak, gauge]
      - [ReconnectedDurableHandles, cifs.handles.durable_reconnects, gauge]
      - [ReconnectedResilientHandles, cifs.handles.resilient_reconnects, gauge]
      - [ServerSessions, cifs.sessions.total, gauge]
      - [SessionsErroredOut, cifs.sessions.errored_out, gauge]
      - [SessionsForcedOff, cifs.sessions.forced_off, gauge]
      - [SessionsLoggedOff, cifs.sessions.logged_off, gauge]
      - [SessionsTimedOut, cifs.sessions.timed_out, gauge]
      - [SMBBranchCacheHashBytesSent, cifs.branchcache.hash_bytes_sent, gauge]
      - [SMBBranchCacheHashGenerationRequests, cifs.branchcache.hash_gen_req, gauge]
      - [SMBBranchCacheHashHeaderRequests, cifs.branchcache.hash_header_req, gauge]
      - [SMBBranchCacheHashRequestsReceived, cifs.branchcache.hash_recv, gauge]
      - [SMBBranchCacheHashResponsesSent, cifs.branchcache.hash_sent, gauge]
      - [TotalDurableHandles, cifs.handles.durable, gauge]
      - [TotalResilientHandles, cifs.handles.resilient, gauge]
      - [WorkItemShortages, cifs.work_item_shortages, gauge]

  - class: Win32_PerfFormattedData_PerfNet_ServerWorkQueues
    tag_by: Name
    metrics:
      - [ActiveThreads, cifs.queue.active_threads, gauge]
      - [AvailableThreads, cifs.queue.available_threads, gauge]
      - [AvailableWorkItems, cifs.queue.available_work_items, gauge]
      - [BorrowedWorkItems, cifs.queue.borrowed_work_items, gauge]
      - [BytesReceivedPersec, cifs.queue.bytes_rcvd_per_s, gauge]
      - [BytesSentPersec, cifs.queue.bytes_sent_per_s, gauge]
      - [BytesTransferredPersec, cifs.queue.bytes_total_per_s, gauge]
      - [ContextBlocksQueuedPersec, cifs.queue.context_blocks_queued_per_s, gauge]
      - [CurrentClients, cifs.queue.current_clients, gauge]
      - [QueueLength, cifs.queue.current_clients, gauge]
      - [ReadBytesPersec, cifs.queue.read_bytes_per_s, gauge]
      - [ReadOperationsPersec, cifs.queue.reads_per_s, gauge]
      - [TotalBytesPersec, cifs.queue.total_bytes_per_s, gauge]
      - [TotalOperationsPersec, cifs.queue.ops_per_s, gauge]
      - [WorkItemShortages, cifs.queue.work_item_shortages, gauge]
      - [WriteBytesPersec, cifs.queue.write_bytes_per_s, gauge]
      - [WriteOperationsPersec, cifs.queue.writes_per_s, gauge]
